<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="Content-type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes"/>
    <meta name="apple-mobile-web-app-status-bar-style" content="black"/>
    <link rel="stylesheet" href="css/index.css">
    <title>浙江大学通行码</title>
</head>
<body>
<div class="index">
    <div class="bg">
        <img class="text" src="img/text.png" alt="">
    </div>
    <div class="content">
        <div class="flex name">
            <p>张宇飞的通行码</p>
            <div class="x_l">研究生</div>
        </div>
        <div class="time"></div>
        <div>
            <img class="logo" src="img/logo.jpg" alt="">
        </div>
        <div class="flex j_z q_x">
            <div style="letter-spacing:4px">有效期:</div>
            <div class="now"></div>
            <div>&nbsp;-&nbsp;</div>
            <div class="future"></div>
        </div>
        <div class="green">健康码为&nbsp;绿码</div>
        <div class="submit j_z">查询新冠疫苗接种记录</div>
        <div class="flex j_z q_x">
            <div>同步时间：</div>
            <div class="nowTime"></div>
        </div>
        <div class="t_x">凭蓝码可在浙江大学校园内通行</div>
        <div class="z_d">请主动出示，配合检查</div>
        <div class="flex j_z bottom">
            <div>申请流程</div>
            <div>申请记录</div>
        </div>
    </div>
    <div class="c_b_g"></div>
    <div class="foot">
        <div>
            <div>安 保 处：0571-88206110</div>
            <div>技术支持：0571-87951669</div>
        </div>
        <div class="w_t">常见问题</div>
    </div>
</div>
<script>
    var nowTime = document.getElementsByClassName("nowTime")[0]
    var time = document.getElementsByClassName("time")[0]
    var now = document.getElementsByClassName("now")[0]
    var future = document.getElementsByClassName("future")[0]

    function getCurrentDate(format) {
        var now = new Date();
        var year = now.getFullYear(); //得到年份
        var month = now.getMonth();//得到月份
        var date = now.getDate();//得到日期
        var day = now.getDay();//得到周几
        var hour = now.getHours();//得到小时
        var minu = now.getMinutes();//得到分钟
        var sec = now.getSeconds();//得到秒
        month = month + 1;
        if (month < 10) month = "0" + month;
        if (date < 10) date = "0" + date;
        if (hour < 10) hour = "0" + hour;
        if (minu < 10) minu = "0" + minu;
        if (sec < 10) sec = "0" + sec;
        var time = "";
        //精确到天
        if (format == 1) {
            time = year + "-" + month + "-" + "01";
        }
        //精确到分
        else if (format == 2) {
            time = year + "-" + month + "-" + date + " " + hour + ":" + minu + ":" + sec;
        } else if (format == 3) {
            time = month + "月" + date + '日' + " " + hour + ":" + minu + ":" + sec;
        } else if (format == 4) {
            // month = parseInt(month) + 3
            // if (month == 13) {
            //     year = year + 1
            //     month = 1
            // } else if (month == 14) {
            //     year = year + 1
            //     month = 2
            // } else if (month == 15) {
            //     year = year + 1
            //     month = 3
            // }
            //月份是否为偶数
            if (parseInt(month)==1 || parseInt(month)==3 ||parseInt(month)==5 ||parseInt(month)==7 ||parseInt(month)==8||parseInt(month)==10||parseInt(month)==12 ) {
                date = 31
            }else {
                date = 30
            }
            if (parseInt(month)==8){

            }
            if (month == 2) {
                if (year % 4 == 0 && year % 100 != 0 || year % 400 == 0) {
                    date = 29//"闰年"
                } else {
                    date = 28//平年
                }
            }
            time = year + "-" + month + "-" + date;
        }
        return time;
    }

    window.onload = function () {
        nowTime.append(getCurrentDate(2))
        now.append(getCurrentDate(1))
        future.append(getCurrentDate(4))
    }

    function tick() {
        time.innerHTML = getCurrentDate(3);
        window.setTimeout("tick()", 1000);
    }

    tick();


</script>
</body>
</html>